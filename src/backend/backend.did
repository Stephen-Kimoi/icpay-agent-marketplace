type JobRequest = record {
  request : text;
  created_at : nat64;
  price : float64;
};
type JobResult = record { output : text; job_id : text; completed_at : nat64 };
type PaymentInfo = record {
  transaction_id : opt text;
  status : PaymentStatus;
  job_id : text;
};
type PaymentRequest = record {
  job_id : text;
  currency : text;
  amount : float64;
};
type PaymentStatus = variant { Failed; Completed; Pending };
type Quote = record { job_id : text; currency : text; price : float64 };
type Result = variant { Ok : PaymentInfo; Err : text };
type Result_1 = variant { Ok; Err : text };
type Result_2 = variant { Ok : JobResult; Err : text };
type Result_3 = variant { Ok : Quote; Err : text };
type Result_4 = variant { Ok : PaymentRequest; Err : text };
service : {
  // Check payment status for a job
  check_payment_status : (text) -> (Result) query;
  // Complete payment (mock function - in production this would be called by ICPAY SDK callback)
  complete_payment : (text, text) -> (Result_1);
  // Execute the job after payment is confirmed
  execute_job : (text) -> (Result_2);
  // Get job result
  get_job_result : (text) -> (Result_2) query;
  // Get a quote for processing a request
  get_quote : (text) -> (Result_3);
  // Initiate payment for a job
  initiate_payment : (text) -> (Result_4);
  // Get all jobs (for debugging/admin)
  list_jobs : () -> (vec record { text; JobRequest }) query;
}
